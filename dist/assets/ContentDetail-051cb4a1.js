import{c as C,a as r,r as o,j as e,R as N}from"./index-af880b26.js";import{R as v}from"./index-42f3fd30.js";const f={title:"",description:"",contentTypeId:-1,contentTypeName:"",creator:"",createdAt:"-",updatedAt:"-",deletedAt:"",status:"draft",body:{},tags:[]};function w(){const l=C().contentId,[u,D]=r.useLazyGetContentDetailQuery(),[m,T]=r.useLazyGetContentTypeDetailQuery(),[p,F]=r.usePutContentMutation(),[a,i]=o.useState(f),[x,j]=o.useState([]),c=t=>{const n=t.target.name,s=t.target.value;i(h=>({...h,[n]:s}))},d=(t,n)=>{i(s=>({...s,body:{...s.body,[t]:n}}))},y=async()=>{try{const t=p({...a,contentId:Number(l)??-1}).unwrap().then(n=>{alert(`성공 : ${n.message}`)})}catch{alert("rejected")}},b=async t=>{const n=await u(t).unwrap(),s=await m(Number(n.contentTypeId)).unwrap();j(s.contentBodySchema),i(n)};return o.useEffect(()=>{l&&b(Number(l))},[l]),e.jsxs("main",{className:"workspace",children:[e.jsx("section",{className:"breadcrumb",children:e.jsx("h1",{children:"Content Detail"})}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"relative p-4",children:e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("fieldset",{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contentTypeSelect",children:"콘텐츠 타입 선택"}),e.jsx("select",{name:"contentTypeSelect",disabled:!0,children:e.jsx("option",{children:a.contentTypeName})})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",children:"Title"}),e.jsx("input",{id:"title",name:"title",type:"text",onChange:c,value:a.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"creator",children:"Creator"}),e.jsx("input",{id:"creator",name:"creator",type:"text",onChange:c,value:a.creator})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("input",{id:"description",name:"description",type:"text",onChange:c,value:a.description})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("label",{className:"block mb-2",htmlFor:"status",children:"Status"}),e.jsxs("label",{children:[e.jsx("input",{onChange:c,type:"radio",name:"status",value:"draft",className:`p-4 ${a.status==="draft"?"bg-primary":"bg-secondary"}`}),"draft"]}),e.jsxs("label",{children:[e.jsx("input",{onChange:c,type:"radio",name:"status",value:"publish",className:`p-4 ${a.status==="publish"?"bg-primary":"bg-secondary"}`}),"publish"]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",children:["createdAt : ",a.createdAt]}),e.jsxs("label",{htmlFor:"title",children:["updatedAt : ",a.updatedAt]})]})]}),e.jsx("hr",{}),e.jsx("div",{children:x.map(t=>e.jsxs(N.Fragment,{children:[e.jsx("label",{htmlFor:"title",children:t.schemaName}),t.schemaType==="string"?e.jsx("input",{id:t.schemaName,name:t.schemaName,type:"text",defaultValue:a.body[t.schemaName],onChange:n=>{d(t.schemaName,n.currentTarget.value)}}):null,t.schemaType==="text"?e.jsx(v,{theme:"snow",className:"bg-white react-quill-editor",defaultValue:a.body[t.schemaName],onChange:(n,s,h,g)=>{d(t.schemaName,g.getHTML())}}):null,e.jsx("hr",{})]},t.schemaName))})]})})}),e.jsx("div",{className:"my-1 text-right",children:e.jsx("button",{onClick:y,name:"submit",children:"Submit"})})]})]})}export{w as default};
//# sourceMappingURL=ContentDetail-051cb4a1.js.map
