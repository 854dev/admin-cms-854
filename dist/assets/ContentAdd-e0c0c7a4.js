import{c as b,a as T,b as g,r as f,j as t,d as v}from"./index-517b09be.js";import{C as D}from"./ContentTypeSelect-2454ca6f.js";import{C as N,a as S}from"./ContentBodyEdit-2c9eb112.js";function F(){const r=b(),{param:{contentTypeId:s,setcontentTypeId:l},contentTypeList:o,contentDetail:h}=T(),[m]=g.usePostContentMutation(),d=o.findContentType(s),p=d?d.contentBodySchema:[],[c,i]=f.useState(h.formDefault),y=e=>{const{contentTypeId:n,contentTypeName:a}=e;i(u=>({...u,contentTypeId:n,contentTypeName:a}))},x=(e,n)=>{i(a=>({...a,[e]:n}))},C=(e,n)=>{i(a=>({...a,body:{...a.body,[e]:n}}))},j=async()=>{try{await m(c).unwrap().then(e=>{alert(`성공 : ${e.message}`),r(v.content.absPath)}).catch(e=>{var n;alert(`${JSON.stringify((n=e.data)==null?void 0:n.message)}`)})}catch{alert("rejected")}};return t.jsxs("div",{children:[t.jsx("section",{className:"breadcrumb",children:t.jsx("h1",{children:"Content Add"})}),t.jsxs("div",{className:"",children:[t.jsx("div",{className:"relative p-4 mb-5",children:t.jsx("div",{children:t.jsxs("div",{children:[t.jsxs("fieldset",{children:[t.jsx("label",{htmlFor:"contentTypeSelect",children:"콘텐츠 타입 선택"}),t.jsx(D,{contentTypeId:s,setcontentTypeId:l,contentTypeList:o.data?o.data:[],onChange:y})]}),t.jsx("hr",{}),t.jsx(N,{disabled:!s,contentDetailForm:c,onContentDetailChange:(e,n)=>{x(e,n)}}),t.jsx("hr",{}),t.jsx(S,{contentDetail:c,contentBodySchema:p,handleBodyChange:C})]})})}),t.jsx("div",{className:"my-1 text-right",children:t.jsx("button",{disabled:!s,onClick:j,name:"submit",children:"Submit"})})]})]})}export{F as default};
